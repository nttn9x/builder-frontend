(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{1016:function(e,t,n){e.exports=n.p+"static/media/wordPress_blue_logo.accafba0.png"},1017:function(e,t,n){e.exports=n.p+"static/media/app-builder-bg.b36db5af.svg"},1084:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5),r=n(0),o=n(267),i=n(65),c=n(94),u=n(981),s=function(e){function t(t){var n=t.options,a=t.context,r=t.result,o=t.setResult,i=e.call(this,n,a)||this;return i.runMutation=function(e){void 0===e&&(e={}),i.onMutationStart();var t=i.generateNewMutationId();return i.mutate(e).then((function(e){return i.onMutationCompleted(e,t),e})).catch((function(e){if(i.onMutationError(e,t),!i.getOptions().onError)throw e}))},i.verifyDocumentType(n.mutation,u.a.Mutation),i.result=r,i.setResult=o,i.mostRecentMutationId=0,i}return Object(a.c)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,u.a.Mutation),[this.runMutation,Object(a.a)(Object(a.a)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(Object(a.a)(Object(a.a)({},this.getOptions()||{}),e||{}))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),a=n.onCompleted,r=n.ignoreResults,o=e.data,i=e.errors,u=i&&i.length>0?new c.a({graphQLErrors:i}):void 0;this.isMostRecentMutation(t)&&!r&&this.updateResult({called:!0,loading:!1,data:o,error:u}),a&&a(o)},t.prototype.onMutationError=function(e,t){var n=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),n&&n(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&Object(i.a)(this.previousResult,e)||(this.setResult(e),this.previousResult=e)},t}(n(989).a);function l(e,t){var n=Object(r.useContext)(Object(o.a)()),i=Object(r.useState)({called:!1,loading:!1}),c=i[0],u=i[1],l=t?Object(a.a)(Object(a.a)({},t),{mutation:e}):{mutation:e},m=Object(r.useRef)();var h=(m.current||(m.current=new s({options:l,context:n,result:c,setResult:u})),m.current);return h.setOptions(l),h.context=n,Object(r.useEffect)((function(){return h.afterExecute()})),h.execute(c)}},1188:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(947),i=n(968),c=n(7),u=n(210),s=n(969),l=n(6),m=Object(l.a)((function(e){return{tooltip:{backgroundColor:e.palette.error.main,color:e.palette.getContrastText(e.palette.error.main),boxShadow:e.shadows[1],fontSize:11,padding:e.spacing(1.5)},arrow:{color:e.palette.error.main}}}))(c.I),h=function(e){var t=e.state,n=e.handleChange,a=Object(s.a)(["project"]).t;return r.a.createElement(c.o,{xs:12,item:!0,style:{position:"relative"}},r.a.createElement(c.G,{autoFocus:!0,fullWidth:!0,name:"name",value:t.name,onChange:n}),r.a.createElement(m,{PopperProps:{disablePortal:!0},open:t.showError,title:a("app_name_should_not_be_blank"),placement:"top-end",disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,arrow:!0},r.a.createElement(c.b,{style:{position:"absolute",right:0}})))},p=Object(o.a)((function(e){return Object(i.a)({header:{display:"flex",flexDirection:"row",alignItems:"baseline"},title:{fontWeight:e.typography.fontWeightLight,marginRight:e.spacing(1.5)}})})),d=r.a.memo((function(){var e=p(),t=Object(s.a)(["project"]).t;return r.a.createElement(c.o,{xs:12,item:!0},r.a.createElement("div",{className:e.header},r.a.createElement(c.J,{className:e.title,variant:"h2"},t("enter_app_name")),r.a.createElement(c.J,{color:"textSecondary"},"(".concat(t("you_can_change_it_later"),")"))))})),f=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(h,e))},b=function(e){e.state;var t=e.handleChange,n=Object(s.a)(["project"]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.o,{xs:12,item:!0,style:{position:"relative"}},r.a.createElement(c.G,{fullWidth:!0,name:"name",onChange:t,label:n("API")})),r.a.createElement(c.o,{xs:12,item:!0,style:{position:"relative"}},r.a.createElement(c.G,{fullWidth:!0,name:"name",onChange:t,label:n("KEY")})))},g=n(1016),j=n.n(g),v=Object(o.a)((function(e){return Object(i.a)({header:{display:"flex",flexDirection:"row",alignItems:"baseline"},title:{fontWeight:e.typography.fontWeightLight,marginRight:e.spacing(1.5)},logo:{width:60}})})),O=r.a.memo((function(){var e=v(),t=Object(s.a)(["project"]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.o,{item:!0},r.a.createElement("img",{className:e.logo,src:j.a,alt:"WordPress"})),r.a.createElement(c.o,{xs:9,item:!0},r.a.createElement(c.J,{className:e.title,variant:"h2"},t("word_press"))))})),E=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null),r.a.createElement(b,e))},y=Object(o.a)((function(e){return Object(i.a)({button:{width:180,height:40,borderRadius:20}})})),x=r.a.memo((function(e){var t=e.final,n=e.handleBack,a=e.handleSave,o=y(),i=Object(s.a)(["project"]).t;return r.a.createElement(c.o,{container:!0,justify:"flex-end",spacing:3},t&&r.a.createElement(c.o,{item:!0},r.a.createElement(c.b,{onClick:n,className:o.button},i("back"))),r.a.createElement(c.o,{item:!0},r.a.createElement(c.b,{onClick:a,className:o.button,color:"primary",variant:"contained"},i(t?"build":"next"))))})),w=n(426),R=n.n(w),k=n(972),C=n(74),M=n(84),_=n(37),N=n(100),S=n(266),I=n(1084),P=n(167),W=n(125),F=n(976),L=n(995),D=function(e){var t=e.history,n=Object(N.useRecoilValue)(P.a),r=Object(a.useState)({step:0,name:"",config:{},showError:!1}),o=Object(_.a)(r,2),i=o[0],c=o[1],u=Object(S.b)().enqueueSnackbar,l=Object(s.a)(["error"]).t,m=Object(I.a)(F.a,{refetchQueries:[{query:F.c}]}),h=Object(_.a)(m,2),p=h[0],d=h[1],f=d.loading,b=d.error,g=d.data;Object(a.useEffect)((function(){f||(b?u(l("create_data"),{variant:W.f.Error,anchorOrigin:{vertical:"top",horizontal:"center"}}):g&&t.push(Object(L.a)(g.createProject.project.id)))}),[f,b,g,l,t,u]);var j=Object(a.useCallback)((function(e){var t=e.target,n=t.value,a=t.name;c((function(e){var t=Object(M.a)(Object(M.a)({},e),{},Object(C.a)({},a,n));if(t.showError){var r=(t.name||"").trim();t.showError=r.length<1}return t}))}),[]),v=Object(a.useCallback)(Object(k.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.name,a=i.step,!((t||"").trim().length<1)){e.next=5;break}return c((function(e){return Object(M.a)(Object(M.a)({},e),{},{name:"",showError:!0})})),e.abrupt("return");case 5:if(0!==a){e.next=8;break}return c((function(e){return Object(M.a)(Object(M.a)({},e),{},{step:1,showError:!1})})),e.abrupt("return");case 8:return e.prev=8,e.next=11,p({variables:{name:i.name,email:n.user.email}});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Nguyen C: project-add.hook.tsx, F: e, N: e ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[8,13]])}))),[i,n,p]),O=Object(a.useCallback)((function(){c((function(e){return Object(M.a)(Object(M.a)({},e),{},{step:0})}))}),[]);return{state:i,loading:f,handleBack:O,handleSave:v,handleChange:j}},J=n(1017),z=n.n(J),B=Object(o.a)((function(e){return Object(i.a)({container:{display:"flex",flexDirection:"column",height:"100%",alignItems:"center",justifyContent:"center",backgroundImage:"url(".concat(z.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain"},body:{width:600},form:{width:"100%",height:250}})}));t.default=function(e){var t=e.history,n=B(),a=Object(s.a)(["project"]).t,o=D({history:t}),i=o.state,l=o.loading,m=o.handleBack,h=o.handleSave,p=o.handleChange;return r.a.createElement(u.b,{loading:{running:l,message:a("we_are_making_an_amazing_for_you")},className:n.container},r.a.createElement("div",{className:n.body},r.a.createElement("div",{className:n.form},r.a.createElement(c.o,{container:!0,spacing:3},0===i.step&&r.a.createElement(f,{state:i,handleChange:p}),1===i.step&&r.a.createElement(E,{state:i,handleChange:p})),r.a.createElement(x,{final:1===i.step,handleSave:h,handleBack:m}))))}},972:function(e,t,n){"use strict";function a(e,t,n,a,r,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,u,"next",e)}function u(e){a(i,r,o,c,u,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=12.52e51be6.chunk.js.map